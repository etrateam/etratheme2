{# ===== ETRA Header (pill search) ===== #}
<header class="{{ theme.settings.get('header_is_sticky') ? 'etra-sticky' : '' }}">
  <div class="container">

    {# الشريط العلوي: لوجو + منيو + أزرار الحساب/السلة #}
    <div class="flex items-center justify-between py-3 gap-3">
      <a href="{{ url('/') }}" class="shrink-0">
        {{ settings.store_logo|raw }}
      </a>

      <nav class="hidden md:flex items-center gap-6">
        {% for item in menu.main %}
          <a href="{{ item.url }}" class="hover:text-primary-600">{{ item.title }}</a>
        {% endfor %}
      </nav>

      <div class="flex items-center gap-2">
        {% include 'components/header/user-menu.twig' ignore missing %}
        {% include 'components/header/mini-cart.twig' ignore missing %}
      </div>
    </div>

    {# شريط البحث البيضاوي #}
    <div class="etra-glass">
      <span class="etra-badge">{{ settings.domain ?? 'salla.dev' }}</span>

      <form action="{{ route('search') }}" method="get" class="flex items-center gap-2 w-full">
        <input
          class="etra-search flex-1"
          type="search"
          name="q"
          placeholder="{{ trans('common.search_placeholder') }}"
          aria-label="{{ trans('common.search_placeholder') }}"
          value="{{ request_get('q') }}"
        >
        <button class="etra-pill" type="submit" aria-label="Search">
          <i class="sicon-search text-lg"></i>
        </button>
      </form>

      {# رقم التواصل (اختياري) #}
      {% if settings.store_phone %}
        <a href="tel:{{ settings.store_phone }}" class="hidden md:flex items-center text-sm opacity-80">
          <i class="sicon-phone mr-1"></i>{{ settings.store_phone }}
        </a>
      {% endif %}
    </div>

  </div>
</header>
